<?xml version="1.0"?>
<odoo>
    <data noupdate="1">
        <!-- Recurring Entry Generation Cron -->
        <record id="ir_cron_recurring_entries" model="ir.cron">
            <field name="name">Generate Recurring Journal Entries</field>
            <field name="model_id" ref="model_drkds_recurring_entry"/>
            <field name="state">code</field>
            <field name="code">model._generate_entries()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
            <field name="priority">5</field>
        </record>
        
        <!-- Asset Depreciation Cron -->
        <record id="ir_cron_asset_depreciation" model="ir.cron">
            <field name="name">Post Asset Depreciation Entries</field>
            <field name="model_id" ref="model_drkds_asset_depreciation"/>
            <field name="state">code</field>
            <field name="code">model.cron_post_depreciation()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
            <field name="priority">10</field>
        </record>
        
        <!-- Budget Alert Cron -->
        <record id="ir_cron_budget_alerts" model="ir.cron">
            <field name="name">Check Budget Alerts</field>
            <field name="model_id" ref="model_drkds_budget"/>
            <field name="state">code</field>
            <field name="code">
budgets = model.search([('state', '=', 'validated')])
for budget in budgets:
    budget._compute_amounts()
            </field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
            <field name="priority">15</field>
        </record>
        
        <!-- Dashboard Update Cron -->
        <record id="ir_cron_dashboard_update" model="ir.cron">
            <field name="name">Update Accounting Dashboard</field>
            <field name="model_id" ref="model_drkds_dashboard"/>
            <field name="state">code</field>
            <field name="code">
dashboards = model.search([])
dashboards._compute_kpis()
dashboards._compute_counts()
            </field>
            <field name="interval_number">1</field>
            <field name="interval_type">hours</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
            <field name="priority">20</field>
        </record>
        
        <!-- Payment Follow-up Cron -->
        <record id="ir_cron_payment_followup" model="ir.cron">
            <field name="name">Process Payment Follow-ups</field>
            <field name="model_id" ref="model_drkds_followup"/>
            <field name="state">code</field>
            <field name="code">
# Process follow-ups for overdue invoices
followups = model.search([])
for followup in followups:
    followup.process_followup()
            </field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="False"/>
            <field name="priority">25</field>
        </record>
    </data>
</odoo>
